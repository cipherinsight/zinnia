I didn't complete this task successfully.
There are the following issue.
1. Cairo does not seem supporting 2 dimensional array, making it hard to represent the connectivity matrix, obstacle algorithms like Floyd
2. Arrays in Cairo is append only, making it hard to use algorithms like BFS/DFS...
I don't think it's solvable within manageable effort